<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Final Test — Chapters 5, 8, 13, 14, 15, 16</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Source+Serif+4:ital,opsz,wght@0,8..60,300;0,8..60,400;0,8..60,600;1,8..60,300&family=JetBrains+Mono:wght@400;500;700&display=swap');

  :root {
    --bg: #0e0e12;
    --surface: #16161c;
    --surface2: #1e1e26;
    --border: #2e2e3a;
    --accent: #e8b86d;
    --accent2: #7eb8d4;
    --accent3: #a8d4a0;
    --danger: #d47878;
    --text: #e8e4dc;
    --muted: #888898;
    --answer-bg: #121a14;
    --answer-border: #3a6040;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'Source Serif 4', Georgia, serif;
    font-weight: 300;
    line-height: 1.7;
    padding: 0;
  }

  /* ── Header ── */
  .header {
    background: var(--surface);
    border-bottom: 1px solid var(--border);
    padding: 60px 40px 48px;
    text-align: center;
    position: relative;
    overflow: hidden;
  }
  .header::before {
    content: '';
    position: absolute; inset: 0;
    background: radial-gradient(ellipse 80% 60% at 50% 0%, #2a2010 0%, transparent 70%);
    pointer-events: none;
  }
  .header-tag {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.65rem;
    letter-spacing: 0.22em;
    text-transform: uppercase;
    color: var(--accent);
    margin-bottom: 18px;
  }
  h1 {
    font-family: 'Playfair Display', Georgia, serif;
    font-size: clamp(2rem, 5vw, 3.2rem);
    font-weight: 700;
    color: var(--text);
    letter-spacing: -0.02em;
    margin-bottom: 12px;
  }
  .header-subtitle {
    color: var(--muted);
    font-size: 0.95rem;
    font-style: italic;
    margin-bottom: 32px;
  }
  .chapter-pills {
    display: flex; flex-wrap: wrap; gap: 8px; justify-content: center;
  }
  .pill {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.65rem;
    padding: 4px 12px;
    border-radius: 999px;
    letter-spacing: 0.08em;
    border: 1px solid;
  }
  .pill.ch5  { border-color: #d47878; color: #d47878; }
  .pill.ch8  { border-color: #d4a060; color: #d4a060; }
  .pill.ch13 { border-color: #c8c060; color: #c8c060; }
  .pill.ch14 { border-color: #80c880; color: #80c880; }
  .pill.ch15 { border-color: #60b8d4; color: #60b8d4; }
  .pill.ch16 { border-color: #a890d4; color: #a890d4; }

  /* ── Progress bar ── */
  .progress-bar {
    height: 3px;
    background: var(--border);
    position: sticky; top: 0; z-index: 100;
  }
  .progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #d47878, #d4a060, #c8c060, #80c880, #60b8d4, #a890d4);
    width: 100%;
  }

  /* ── Layout ── */
  .container { max-width: 860px; margin: 0 auto; padding: 48px 24px 80px; }

  /* ── Section headers ── */
  .section-header {
    display: flex; align-items: center; gap: 16px;
    margin: 56px 0 24px;
  }
  .section-header::after {
    content: ''; flex: 1; height: 1px; background: var(--border);
  }
  .section-badge {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.62rem;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    padding: 5px 14px;
    border-radius: 2px;
    white-space: nowrap;
    flex-shrink: 0;
  }
  .badge-5  { background: #2a1818; color: #d47878; border: 1px solid #3a2020; }
  .badge-8  { background: #261e10; color: #d4a060; border: 1px solid #382808; }
  .badge-13 { background: #252410; color: #c8c060; border: 1px solid #353408; }
  .badge-14 { background: #102210; color: #80c880; border: 1px solid #183018; }
  .badge-15 { background: #101e26; color: #60b8d4; border: 1px solid #102030; }
  .badge-16 { background: #1a1228; color: #a890d4; border: 1px solid #261a3a; }
  .section-title-text {
    font-family: 'Playfair Display', serif;
    font-size: 1.1rem;
    font-style: italic;
    color: var(--muted);
    white-space: nowrap;
    flex-shrink: 0;
  }

  /* ── Question cards ── */
  .qcard {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 4px;
    margin-bottom: 20px;
    overflow: hidden;
    transition: border-color 0.2s;
  }
  .qcard:hover { border-color: #3e3e50; }

  .qcard-header {
    padding: 20px 24px 0;
    display: flex; align-items: baseline; gap: 14px;
  }
  .qnum {
    font-family: 'JetBrains Mono', monospace;
    font-size: 1.6rem;
    font-weight: 700;
    color: var(--border);
    line-height: 1;
    flex-shrink: 0;
  }
  .qtag {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.6rem;
    letter-spacing: 0.14em;
    text-transform: uppercase;
    padding: 2px 8px;
    border-radius: 2px;
    flex-shrink: 0;
  }
  .qcard-body { padding: 10px 24px 20px; }
  .qtext {
    font-size: 1rem;
    line-height: 1.7;
    color: var(--text);
    margin-bottom: 12px;
  }
  .qtext strong { color: var(--accent); font-weight: 600; }

  canvas {
    display: block;
    margin: 12px 0;
    border: 1px solid var(--border);
    border-radius: 3px;
    background: #12121a;
    max-width: 100%;
  }

  /* ── Answer reveal ── */
  details { margin-top: 16px; }
  summary {
    cursor: pointer;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.72rem;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--muted);
    padding: 8px 0;
    user-select: none;
    display: flex; align-items: center; gap: 10px;
    border-top: 1px solid var(--border);
    list-style: none;
    transition: color 0.15s;
  }
  summary::-webkit-details-marker { display: none; }
  summary::before {
    content: '▶';
    font-size: 0.55rem;
    transition: transform 0.2s;
  }
  details[open] summary::before { transform: rotate(90deg); }
  summary:hover { color: var(--accent); }

  .answer {
    background: var(--answer-bg);
    border-left: 3px solid var(--answer-border);
    padding: 20px 22px;
    margin-top: 2px;
    font-size: 0.93rem;
    line-height: 1.9;
    border-radius: 0 3px 3px 0;
  }
  .answer .step {
    color: var(--accent);
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.68rem;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    margin-top: 14px;
    margin-bottom: 4px;
    display: block;
  }
  .answer .step:first-child { margin-top: 0; }
  .answer .result {
    display: inline-block;
    background: #1a2e1e;
    border: 1px solid var(--answer-border);
    color: #8ad48a;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.88rem;
    padding: 4px 12px;
    border-radius: 3px;
    margin-top: 6px;
  }
  .answer .formula {
    color: var(--accent2);
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.82rem;
  }
  .answer .note {
    color: var(--muted);
    font-style: italic;
    font-size: 0.88rem;
  }

  /* ── Marks indicator ── */
  .marks {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.65rem;
    color: var(--muted);
    margin-left: auto;
    flex-shrink: 0;
  }
</style>
</head>
<body>

<div class="progress-bar"><div class="progress-fill"></div></div>

<div class="header">
  <div class="header-tag">Mathematics · End of Term</div>
  <h1>Final Test</h1>
  <p class="header-subtitle">20 questions · Chapters 5, 8, 13, 14, 15, 16 · Show answers to check your work</p>
  <div class="chapter-pills">
    <span class="pill ch5">Ch 5 · Pythagoras</span>
    <span class="pill ch8">Ch 8 · Mensuration</span>
    <span class="pill ch13">Ch 13 · Congruence &amp; Similarity</span>
    <span class="pill ch14">Ch 14 · Circle Theorems</span>
    <span class="pill ch15">Ch 15 · Right-Angle Trig</span>
    <span class="pill ch16">Ch 16 · Non-Right Trig</span>
  </div>
</div>

<div class="container">

<!-- ═══════ CHAPTER 5 ═══════ -->
<div class="section-header">
  <span class="section-badge badge-5">Chapter 5</span>
  <span class="section-title-text">Pythagorean Theorem</span>
</div>

<!-- Q1 -->
<div class="qcard">
  <div class="qcard-header">
    <span class="qnum">01</span>
    <span class="qtag badge-5">Ch 5 · Pythagoras</span>
    <span class="marks">[3 marks]</span>
  </div>
  <div class="qcard-body">
    <div class="qtext">A right-angled triangle has legs of length <strong>9 cm</strong> and <strong>12 cm</strong>. Find the hypotenuse, leaving your answer in exact surd form and also as a decimal to 1 d.p.</div>
    <canvas id="q1" width="300" height="200"></canvas>
    <details><summary>Show full working</summary>
    <div class="answer">
      <span class="step">Identify sides</span>
      The two legs are a = 9 cm and b = 12 cm. We need the hypotenuse c.
      <span class="step">Apply Pythagoras</span>
      <span class="formula">c² = a² + b² = 9² + 12² = 81 + 144 = 225</span>
      <span class="step">Solve</span>
      c = √225 = √(9 × 25) = 3 × 5 = <span class="result">15 cm (exact)</span>
      <br>This is a classic 3–4–5 triple scaled by 3: (9, 12, 15) → no surd needed!<br>
      <span class="note">Decimal: 15.0 cm (already exact)</span>
    </div></details>
  </div>
</div>

<!-- Q2 -->
<div class="qcard">
  <div class="qcard-header">
    <span class="qnum">02</span>
    <span class="qtag badge-5">Ch 5 · Pythagoras</span>
    <span class="marks">[3 marks]</span>
  </div>
  <div class="qcard-body">
    <div class="qtext">A right-angled triangle has hypotenuse <strong>13 cm</strong> and one leg <strong>5 cm</strong>. Find the other leg in exact surd form.</div>
    <canvas id="q2" width="300" height="200"></canvas>
    <details><summary>Show full working</summary>
    <div class="answer">
      <span class="step">Set up equation</span>
      <span class="formula">a² + 5² = 13²</span>
      <span class="step">Calculate</span>
      a² = 169 − 25 = 144<br>
      a = √144 = <span class="result">12 cm</span>
      <span class="step">Check: Pythagorean triple?</span>
      <span class="note">Yes — (5, 12, 13) is a standard Pythagorean triple. Worth memorising!</span>
    </div></details>
  </div>
</div>

<!-- Q3 -->
<div class="qcard">
  <div class="qcard-header">
    <span class="qnum">03</span>
    <span class="qtag badge-5">Ch 5 · Pythagoras</span>
    <span class="marks">[4 marks]</span>
  </div>
  <div class="qcard-body">
    <div class="qtext">A diagonal of a rectangle is <strong>√74 cm</strong>. One side of the rectangle is <strong>5 cm</strong>. Find the other side in surd form, then calculate the area.</div>
    <canvas id="q3" width="320" height="200"></canvas>
    <details><summary>Show full working</summary>
    <div class="answer">
      <span class="step">Find the missing side</span>
      <span class="formula">5² + b² = (√74)²</span>
      b² = 74 − 25 = 49<br>
      b = √49 = 7 cm
      <span class="step">Calculate area</span>
      Area = 5 × 7 = <span class="result">35 cm²</span>
    </div></details>
  </div>
</div>

<!-- ═══════ CHAPTER 8 ═══════ -->
<div class="section-header">
  <span class="section-badge badge-8">Chapter 8</span>
  <span class="section-title-text">Mensuration</span>
</div>

<!-- Q4 -->
<div class="qcard">
  <div class="qcard-header">
    <span class="qnum">04</span>
    <span class="qtag badge-8">Ch 8 · Mensuration</span>
    <span class="marks">[4 marks]</span>
  </div>
  <div class="qcard-body">
    <div class="qtext">A sector has radius <strong>8 cm</strong> and angle <strong>135°</strong>. Find its arc length and area, giving answers in terms of π and as decimals to 2 d.p.</div>
    <canvas id="q4" width="280" height="240"></canvas>
    <details><summary>Show full working</summary>
    <div class="answer">
      <span class="step">Arc length</span>
      <span class="formula">L = (θ/360°) × 2πr = (135/360) × 2π × 8 = (3/8) × 16π = 6π cm</span>
      <span class="result">L = 6π ≈ 18.85 cm</span>
      <span class="step">Sector area</span>
      <span class="formula">A = (θ/360°) × πr² = (135/360) × π × 64 = (3/8) × 64π = 24π cm²</span>
      <span class="result">A = 24π ≈ 75.40 cm²</span>
    </div></details>
  </div>
</div>

<!-- Q5 -->
<div class="qcard">
  <div class="qcard-header">
    <span class="qnum">05</span>
    <span class="qtag badge-8">Ch 8 · Mensuration</span>
    <span class="marks">[5 marks]</span>
  </div>
  <div class="qcard-body">
    <div class="qtext">Find the total surface area of a <strong>closed cylinder</strong> with radius <strong>4 cm</strong> and height <strong>10 cm</strong>. Then find its volume. Give answers to 2 d.p.</div>
    <canvas id="q5" width="240" height="240"></canvas>
    <details><summary>Show full working</summary>
    <div class="answer">
      <span class="step">Surface area (closed cylinder)</span>
      Two circular ends + curved surface:<br>
      <span class="formula">SA = 2πr² + 2πrh = 2π(4²) + 2π(4)(10) = 32π + 80π = 112π</span>
      <span class="result">SA = 112π ≈ 351.86 cm²</span>
      <span class="step">Volume</span>
      <span class="formula">V = πr²h = π × 16 × 10 = 160π</span>
      <span class="result">V = 160π ≈ 502.65 cm³</span>
    </div></details>
  </div>
</div>

<!-- Q6 -->
<div class="qcard">
  <div class="qcard-header">
    <span class="qnum">06</span>
    <span class="qtag badge-8">Ch 8 · Mensuration</span>
    <span class="marks">[4 marks]</span>
  </div>
  <div class="qcard-body">
    <div class="qtext">A cone has base radius <strong>6 cm</strong> and slant height <strong>10 cm</strong>. Find its total surface area (including base) and its volume. Give answers to 2 d.p.</div>
    <canvas id="q6" width="240" height="260"></canvas>
    <details><summary>Show full working</summary>
    <div class="answer">
      <span class="step">Find perpendicular height first</span>
      <span class="formula">h² = l² − r² = 10² − 6² = 100 − 36 = 64 → h = 8 cm</span>
      <span class="step">Total surface area</span>
      Base + curved surface:<br>
      <span class="formula">SA = πr² + πrl = π(36) + π(6)(10) = 36π + 60π = 96π</span>
      <span class="result">SA = 96π ≈ 301.59 cm²</span>
      <span class="step">Volume</span>
      <span class="formula">V = ⅓πr²h = ⅓ × π × 36 × 8 = 96π</span>
      <span class="result">V = 96π ≈ 301.59 cm³</span>
      <span class="note">Interesting coincidence — SA and V have the same numerical value here!</span>
    </div></details>
  </div>
</div>

<!-- ═══════ CHAPTER 13 ═══════ -->
<div class="section-header">
  <span class="section-badge badge-13">Chapter 13</span>
  <span class="section-title-text">Congruence &amp; Similarity</span>
</div>

<!-- Q7 -->
<div class="qcard">
  <div class="qcard-header">
    <span class="qnum">07</span>
    <span class="qtag badge-13">Ch 13 · Congruence</span>
    <span class="marks">[3 marks]</span>
  </div>
  <div class="qcard-body">
    <div class="qtext">Two triangles each have sides <strong>7 cm</strong> and <strong>9 cm</strong> with an included angle of <strong>54°</strong>. Are they congruent? State the test and explain why.</div>
    <canvas id="q7" width="380" height="190"></canvas>
    <details><summary>Show full working</summary>
    <div class="answer">
      <span class="step">Identify what's known</span>
      Both triangles have: two sides equal (7 cm and 9 cm) and the angle between those sides equal (54°).
      <span class="step">Apply congruence test</span>
      Two sides and the <em>included</em> angle (the angle between the two known sides) are equal. This satisfies the <span class="formula">SAS (Side-Angle-Side)</span> congruence condition.
      <span class="step">Conclusion</span>
      <span class="result">Yes — the triangles are congruent by SAS.</span>
      <span class="note">Important: The angle must be included (between the two sides). If it were not included, SAS would not apply.</span>
    </div></details>
  </div>
</div>

<!-- Q8 -->
<div class="qcard">
  <div class="qcard-header">
    <span class="qnum">08</span>
    <span class="qtag badge-13">Ch 13 · Similarity</span>
    <span class="marks">[5 marks]</span>
  </div>
  <div class="qcard-body">
    <div class="qtext">In the diagram, DE ∥ BC. AD = 4 cm, DB = 6 cm, DE = 5 cm. Find the length of BC and the ratio of the areas of triangle ADE to triangle ABC.</div>
    <canvas id="q8" width="300" height="260"></canvas>
    <details><summary>Show full working</summary>
    <div class="answer">
      <span class="step">Prove similarity</span>
      Since DE ∥ BC: angle ADE = angle ABC (corresponding angles) and angle AED = angle ACB (corresponding angles). Angle A is common. By <span class="formula">AA similarity</span>, △ADE ∼ △ABC.
      <span class="step">Find scale factor</span>
      AB = AD + DB = 4 + 6 = 10 cm<br>
      <span class="formula">Scale factor k = AB/AD = 10/4 = 5/2</span>
      <span class="step">Find BC</span>
      <span class="formula">BC = DE × k = 5 × (5/2) = 12.5 cm</span>
      <span class="result">BC = 12.5 cm</span>
      <span class="step">Ratio of areas</span>
      Area ratio = k² (ratio of corresponding sides)² = (AD/AB)² = (4/10)² = 16/100 = <span class="result">4 : 25</span>
    </div></details>
  </div>
</div>

<!-- Q9 -->
<div class="qcard">
  <div class="qcard-header">
    <span class="qnum">09</span>
    <span class="qtag badge-13">Ch 13 · Similarity</span>
    <span class="marks">[4 marks]</span>
  </div>
  <div class="qcard-body">
    <div class="qtext">Two similar cylinders have heights <strong>6 cm</strong> and <strong>10 cm</strong>. The volume of the smaller cylinder is <strong>84 cm³</strong>. Find the volume of the larger cylinder.</div>
    <details><summary>Show full working</summary>
    <div class="answer">
      <span class="step">Find linear scale factor</span>
      <span class="formula">k = 10/6 = 5/3</span>
      <span class="step">Volume scale factor</span>
      Similar solids: volume ratio = k³<br>
      <span class="formula">Volume ratio = (5/3)³ = 125/27</span>
      <span class="step">Find larger volume</span>
      <span class="formula">V_large = 84 × (125/27) = 10500/27</span>
      <span class="result">V_large ≈ 388.9 cm³</span>
    </div></details>
  </div>
</div>

<!-- ═══════ CHAPTER 14 ═══════ -->
<div class="section-header">
  <span class="section-badge badge-14">Chapter 14</span>
  <span class="section-title-text">Circle Theorems</span>
</div>

<!-- Q10 -->
<div class="qcard">
  <div class="qcard-header">
    <span class="qnum">10</span>
    <span class="qtag badge-14">Ch 14 · Circle Theorems</span>
    <span class="marks">[4 marks]</span>
  </div>
  <div class="qcard-body">
    <div class="qtext">O is the centre. The angle at the centre AOB = <strong>124°</strong>. Find the angle at the circumference ACB (where C is any point on the major arc), and find the reflex angle AOB. Give reasons.</div>
    <canvas id="q10" width="280" height="280"></canvas>
    <details><summary>Show full working</summary>
    <div class="answer">
      <span class="step">Angle at circumference (minor arc)</span>
      <span class="formula">∠ACB = ½ × ∠AOB = ½ × 124° = 62°</span>
      <em>Reason: The angle at the centre is twice the angle at the circumference, both subtending the same arc.</em>
      <span class="result">∠ACB = 62°</span>
      <span class="step">Reflex angle AOB</span>
      <span class="formula">Reflex ∠AOB = 360° − 124° = 236°</span>
      <span class="result">Reflex ∠AOB = 236°</span>
      <span class="note">An angle on the major arc would subtend the reflex angle: that inscribed angle = 236°/2 = 118°. Note also that 62° + 118° = 180° — opposite angles in a cyclic quadrilateral!</span>
    </div></details>
  </div>
</div>

<!-- Q11 -->
<div class="qcard">
  <div class="qcard-header">
    <span class="qnum">11</span>
    <span class="qtag badge-14">Ch 14 · Circle Theorems</span>
    <span class="marks">[4 marks]</span>
  </div>
  <div class="qcard-body">
    <div class="qtext">ABCD is a cyclic quadrilateral. Angle DAB = <strong>3x°</strong>, angle BCD = <strong>(x + 40)°</strong>. Find x and both angles. Give reasons.</div>
    <canvas id="q11" width="280" height="280"></canvas>
    <details><summary>Show full working</summary>
    <div class="answer">
      <span class="step">Apply cyclic quadrilateral theorem</span>
      Opposite angles of a cyclic quadrilateral sum to 180°.<br>
      <span class="formula">∠DAB + ∠BCD = 180°</span>
      <span class="formula">3x + (x + 40) = 180</span>
      <span class="step">Solve</span>
      4x + 40 = 180<br>
      4x = 140<br>
      x = 35
      <span class="step">Find both angles</span>
      ∠DAB = 3 × 35 = <span class="result">105°</span><br>
      ∠BCD = 35 + 40 = <span class="result">75°</span>
      <span class="note">Check: 105° + 75° = 180° ✓</span>
    </div></details>
  </div>
</div>

<!-- Q12 -->
<div class="qcard">
  <div class="qcard-header">
    <span class="qnum">12</span>
    <span class="qtag badge-14">Ch 14 · Circle Theorems</span>
    <span class="marks">[5 marks]</span>
  </div>
  <div class="qcard-body">
    <div class="qtext">From an external point P, two tangents PT and PS are drawn to a circle with centre O and radius <strong>7 cm</strong>. The distance OP = <strong>25 cm</strong>. Find PT, and the angle TPS.</div>
    <canvas id="q12" width="300" height="260"></canvas>
    <details><summary>Show full working</summary>
    <div class="answer">
      <span class="step">Find PT using Pythagoras</span>
      Tangent is perpendicular to radius at point of contact, so OT ⊥ PT.<br>
      <span class="formula">PT² = OP² − OT² = 25² − 7² = 625 − 49 = 576</span>
      PT = √576 = <span class="result">24 cm</span>
      <span class="step">Find angle OPT</span>
      <span class="formula">sin(∠OPT) = OT/OP = 7/25</span>
      ∠OPT = sin⁻¹(7/25) ≈ 16.26°
      <span class="step">Find angle TPS</span>
      By symmetry (two tangents from external point are equal), ∠TPS = 2 × ∠OPT:<br>
      <span class="result">∠TPS ≈ 32.5°</span>
      <span class="note">Also: OT = OS (radii), PT = PS = 24 cm (tangent lengths equal), so OTPS is a kite.</span>
    </div></details>
  </div>
</div>

<!-- ═══════ CHAPTER 15 ═══════ -->
<div class="section-header">
  <span class="section-badge badge-15">Chapter 15</span>
  <span class="section-title-text">Right-Angle Trigonometry</span>
</div>

<!-- Q13 -->
<div class="qcard">
  <div class="qcard-header">
    <span class="qnum">13</span>
    <span class="qtag badge-15">Ch 15 · Trig Ratios</span>
    <span class="marks">[3 marks]</span>
  </div>
  <div class="qcard-body">
    <div class="qtext">In a right-angled triangle, the hypotenuse is <strong>15 cm</strong> and one angle is <strong>38°</strong>. Find both remaining sides to 2 d.p.</div>
    <canvas id="q13" width="300" height="200"></canvas>
    <details><summary>Show full working</summary>
    <div class="answer">
      <span class="step">Label sides relative to 38°</span>
      Opposite = a, Adjacent = b, Hypotenuse = 15 cm.
      <span class="step">Find the opposite side</span>
      <span class="formula">sin 38° = opp/hyp → a = 15 × sin 38° = 15 × 0.6157</span>
      <span class="result">a ≈ 9.24 cm</span>
      <span class="step">Find the adjacent side</span>
      <span class="formula">cos 38° = adj/hyp → b = 15 × cos 38° = 15 × 0.7880</span>
      <span class="result">b ≈ 11.82 cm</span>
      <span class="note">Check with Pythagoras: 9.24² + 11.82² ≈ 85.4 + 139.7 = 225.1 ≈ 15² = 225 ✓</span>
    </div></details>
  </div>
</div>

<!-- Q14 -->
<div class="qcard">
  <div class="qcard-header">
    <span class="qnum">14</span>
    <span class="qtag badge-15">Ch 15 · Angle of Elevation</span>
    <span class="marks">[4 marks]</span>
  </div>
  <div class="qcard-body">
    <div class="qtext">From a point <strong>50 m</strong> from the base of a vertical tower, the angle of elevation to the top is <strong>32°</strong>. Find the height of the tower to 1 d.p. Then find the straight-line distance from the observation point to the top of the tower.</div>
    <canvas id="q14" width="360" height="200"></canvas>
    <details><summary>Show full working</summary>
    <div class="answer">
      <span class="step">Find height (opposite side)</span>
      <span class="formula">tan 32° = height / 50</span>
      height = 50 × tan 32° = 50 × 0.6249<br>
      <span class="result">Height ≈ 31.2 m</span>
      <span class="step">Find straight-line distance (hypotenuse)</span>
      <span class="formula">cos 32° = 50 / hyp → hyp = 50 / cos 32° = 50 / 0.8480</span>
      <span class="result">Hypotenuse ≈ 59.0 m</span>
      <span class="note">Alternatively: hyp = √(50² + 31.2²) = √(2500 + 973.4) ≈ √3473 ≈ 58.9 m ✓</span>
    </div></details>
  </div>
</div>

<!-- Q15 -->
<div class="qcard">
  <div class="qcard-header">
    <span class="qnum">15</span>
    <span class="qtag badge-15">Ch 15 · Bearings</span>
    <span class="marks">[5 marks]</span>
  </div>
  <div class="qcard-body">
    <div class="qtext">A ship sails <strong>40 km</strong> due East, then <strong>30 km</strong> due North. Find the ship's distance from its starting point, and the bearing from the starting point to the ship's final position. Give the bearing to the nearest degree.</div>
    <canvas id="q15" width="300" height="280"></canvas>
    <details><summary>Show full working</summary>
    <div class="answer">
      <span class="step">Find distance (Pythagoras)</span>
      The eastward and northward legs are perpendicular.<br>
      <span class="formula">d² = 40² + 30² = 1600 + 900 = 2500</span>
      d = √2500 = <span class="result">50 km</span>
      <span class="step">Find bearing</span>
      The angle from North (clockwise) to the direction of travel. The angle from East toward North:<br>
      <span class="formula">tan θ = 40/30 (east/north component)</span>
      θ = tan⁻¹(40/30) = tan⁻¹(1.333) ≈ 53.1°<br>
      Bearing from North = 90° − 53.1° = 36.9°... <br>
      <em>Actually:</em> bearing is measured clockwise from North.<br>
      The ship went East (bearing 090°) then North. The resultant makes angle α with North where:<br>
      <span class="formula">tan α = East/North = 40/30 → α = tan⁻¹(4/3) ≈ 53.1°</span>
      <span class="result">Bearing ≈ 053°</span>
      <span class="note">The ship is 50 km from start on a bearing of 053°. Note the (30, 40, 50) triple is a 3–4–5 scaled by 10.</span>
    </div></details>
  </div>
</div>

<!-- ═══════ CHAPTER 16 ═══════ -->
<div class="section-header">
  <span class="section-badge badge-16">Chapter 16</span>
  <span class="section-title-text">Non-Right Triangle Trigonometry</span>
</div>

<!-- Q16 -->
<div class="qcard">
  <div class="qcard-header">
    <span class="qnum">16</span>
    <span class="qtag badge-16">Ch 16 · Area Formula</span>
    <span class="marks">[3 marks]</span>
  </div>
  <div class="qcard-body">
    <div class="qtext">Find the area of a triangle with sides <strong>9 cm</strong> and <strong>14 cm</strong> and an included angle of <strong>72°</strong>. Give answer to 2 d.p.</div>
    <canvas id="q16" width="300" height="190"></canvas>
    <details><summary>Show full working</summary>
    <div class="answer">
      <span class="step">Apply area formula</span>
      <span class="formula">Area = ½ × a × b × sin C = ½ × 9 × 14 × sin 72°</span>
      <span class="step">Calculate</span>
      = ½ × 126 × 0.9511<br>
      = 63 × 0.9511<br>
      <span class="result">Area ≈ 59.92 cm²</span>
    </div></details>
  </div>
</div>

<!-- Q17 -->
<div class="qcard">
  <div class="qcard-header">
    <span class="qnum">17</span>
    <span class="qtag badge-16">Ch 16 · Sine Rule</span>
    <span class="marks">[4 marks]</span>
  </div>
  <div class="qcard-body">
    <div class="qtext">In triangle PQR, angle P = <strong>48°</strong>, angle Q = <strong>67°</strong>, and side PQ = <strong>18 cm</strong>. Find the length of side PR (opposite angle Q) to 2 d.p.</div>
    <canvas id="q17" width="320" height="200"></canvas>
    <details><summary>Show full working</summary>
    <div class="answer">
      <span class="step">Find the third angle</span>
      ∠R = 180° − 48° − 67° = 65°
      <span class="step">Set up sine rule</span>
      PR is opposite Q (67°). PQ is opposite R (65°).<br>
      <span class="formula">PR / sin Q = PQ / sin R</span>
      <span class="formula">PR / sin 67° = 18 / sin 65°</span>
      <span class="step">Solve</span>
      PR = 18 × sin 67° / sin 65°<br>
      PR = 18 × 0.9205 / 0.9063<br>
      <span class="result">PR ≈ 18.28 cm</span>
    </div></details>
  </div>
</div>

<!-- Q18 -->
<div class="qcard">
  <div class="qcard-header">
    <span class="qnum">18</span>
    <span class="qtag badge-16">Ch 16 · Cosine Rule</span>
    <span class="marks">[4 marks]</span>
  </div>
  <div class="qcard-body">
    <div class="qtext">A triangle has sides <strong>8 cm</strong>, <strong>11 cm</strong>, and <strong>14 cm</strong>. Find the largest angle, to 1 d.p.</div>
    <canvas id="q18" width="320" height="200"></canvas>
    <details><summary>Show full working</summary>
    <div class="answer">
      <span class="step">Identify the largest angle</span>
      The largest angle is opposite the longest side (14 cm).
      <span class="step">Apply cosine rule</span>
      <span class="formula">cos C = (a² + b² − c²) / (2ab)</span>
      where c = 14, a = 8, b = 11:<br>
      <span class="formula">cos C = (64 + 121 − 196) / (2 × 8 × 11) = (−11) / 176 = −0.06250</span>
      <span class="step">Find the angle</span>
      C = cos⁻¹(−0.0625)<br>
      <span class="result">C ≈ 93.6°</span>
      <span class="note">The negative cosine confirms this is an obtuse angle — the triangle is obtuse.</span>
    </div></details>
  </div>
</div>

<!-- Q19 -->
<div class="qcard">
  <div class="qcard-header">
    <span class="qnum">19</span>
    <span class="qtag badge-16">Ch 16 · Application</span>
    <span class="marks">[5 marks]</span>
  </div>
  <div class="qcard-body">
    <div class="qtext">Two ships leave port at the same time. Ship A travels <strong>35 km</strong> on a bearing of <strong>040°</strong>. Ship B travels <strong>52 km</strong> on a bearing of <strong>160°</strong>. How far apart are the ships? Give answer to 1 d.p.</div>
    <canvas id="q19" width="300" height="300"></canvas>
    <details><summary>Show full working</summary>
    <div class="answer">
      <span class="step">Find the angle between the two paths</span>
      Bearing of A: 040°, bearing of B: 160°.<br>
      Angle between them at port = 160° − 040° = <span class="formula">120°</span>
      <span class="step">Apply cosine rule</span>
      Let d = distance between ships. a = 35, b = 52, C = 120°.<br>
      <span class="formula">d² = 35² + 52² − 2(35)(52)cos 120°</span>
      d² = 1225 + 2704 − 3640 × (−0.5)<br>
      d² = 3929 + 1820 = 5749<br>
      d = √5749<br>
      <span class="result">d ≈ 75.8 km</span>
    </div></details>
  </div>
</div>

<!-- Q20 (Challenge) -->
<div class="qcard" style="border-color: #3a2a50;">
  <div class="qcard-header">
    <span class="qnum" style="color:#a890d4;">20</span>
    <span class="qtag badge-16" style="background:#1e1230;color:#c0a0e8;border-color:#3a2050;">Ch 16 · Challenge</span>
    <span class="marks">[6 marks]</span>
  </div>
  <div class="qcard-body">
    <div class="qtext">A triangular field has sides <strong>120 m</strong>, <strong>180 m</strong>, and <strong>210 m</strong>.<br>
    a) Find the largest angle to 2 d.p.<br>
    b) Find the area of the field to the nearest m².<br>
    c) Find the cost of fencing the entire perimeter at <strong>$8.50 per metre</strong>.</div>
    <canvas id="q20" width="340" height="220"></canvas>
    <details><summary>Show full working</summary>
    <div class="answer">
      <span class="step">a) Find the largest angle (opposite 210 m)</span>
      <span class="formula">cos C = (120² + 180² − 210²) / (2 × 120 × 180)</span>
      = (14400 + 32400 − 44100) / 43200<br>
      = 2700 / 43200 = 0.0625<br>
      C = cos⁻¹(0.0625)<br>
      <span class="result">C ≈ 86.42°</span>

      <span class="step">b) Find the area</span>
      Using two known sides and the included angle (now that C is known):<br>
      <span class="formula">Area = ½ × 120 × 180 × sin 86.42°</span>
      = ½ × 21600 × 0.9981<br>
      = 10800 × 0.9981<br>
      <span class="result">Area ≈ 10 779 m²</span>
      <span class="note">This is just over 1 hectare (10 000 m² = 1 ha). The field is ≈ 1.08 ha.</span>

      <span class="step">c) Cost of fencing</span>
      Perimeter = 120 + 180 + 210 = 510 m<br>
      Cost = 510 × $8.50 = <span class="result">$4 335.00</span>
    </div></details>
  </div>
</div>

</div><!-- /container -->

<script>
// ── Drawing helpers ──────────────────────────────────────────────────────────
const DARK = '#12121a';
const TEXT_COLOR = '#c8c4bc';
const LINE_COLOR = '#5a5a7a';
const FILL_COLORS = {
  ch5:  '#1e1418',
  ch8:  '#1a1408',
  ch13: '#181810',
  ch14: '#0e1a0e',
  ch15: '#0c1420',
  ch16: '#141020',
};
const STROKE_COLORS = {
  ch5:  '#c05050',
  ch8:  '#c08830',
  ch13: '#a8a030',
  ch14: '#50a850',
  ch15: '#40a0c0',
  ch16: '#8870c0',
};

function lbl(ctx, text, x, y, opts={}) {
  ctx.save();
  ctx.font = opts.font || '12px "JetBrains Mono",monospace';
  ctx.fillStyle = opts.color || TEXT_COLOR;
  ctx.textAlign = opts.align || 'center';
  ctx.textBaseline = opts.base || 'middle';
  ctx.fillText(text, x, y);
  ctx.restore();
}
function seg(ctx, x1, y1, x2, y2, color, w=1.8, dash=[]) {
  ctx.save(); ctx.strokeStyle=color; ctx.lineWidth=w; ctx.setLineDash(dash);
  ctx.beginPath(); ctx.moveTo(x1,y1); ctx.lineTo(x2,y2); ctx.stroke(); ctx.restore();
}
function polyFill(ctx, pts, fill, stroke, lw=1.8) {
  ctx.beginPath(); ctx.moveTo(pts[0][0],pts[0][1]);
  pts.slice(1).forEach(p => ctx.lineTo(p[0],p[1])); ctx.closePath();
  if(fill) { ctx.fillStyle=fill; ctx.fill(); }
  ctx.strokeStyle=stroke; ctx.lineWidth=lw; ctx.stroke();
}
function dot(ctx, x, y, r=3.5, color=TEXT_COLOR) {
  ctx.beginPath(); ctx.arc(x,y,r,0,Math.PI*2); ctx.fillStyle=color; ctx.fill();
}
function raMarker(ctx, vx,vy,ax,ay,bx,by,s=10,color='#606080') {
  const da=[ax-vx,ay-vy],la=Math.sqrt(da[0]**2+da[1]**2);
  const db=[bx-vx,by-vy],lb=Math.sqrt(db[0]**2+db[1]**2);
  const ua=[da[0]/la,da[1]/la],ub=[db[0]/lb,db[1]/lb];
  const p1=[vx+ua[0]*s,vy+ua[1]*s];
  const p2=[vx+ua[0]*s+ub[0]*s,vy+ua[1]*s+ub[1]*s];
  const p3=[vx+ub[0]*s,vy+ub[1]*s];
  ctx.save(); ctx.strokeStyle=color; ctx.lineWidth=1.2;
  ctx.beginPath(); ctx.moveTo(p1[0],p1[1]); ctx.lineTo(p2[0],p2[1]); ctx.lineTo(p3[0],p3[1]); ctx.stroke(); ctx.restore();
}
function arcAngle(ctx, vx,vy,ax,ay,bx,by, r, label, color) {
  const a1=Math.atan2(ay-vy,ax-vx), a2=Math.atan2(by-vy,bx-vx);
  ctx.save(); ctx.strokeStyle=color; ctx.lineWidth=1.3;
  ctx.beginPath(); ctx.arc(vx,vy,r,a1,a2); ctx.stroke(); ctx.restore();
  const mid=(a1+a2)/2;
  lbl(ctx,label,vx+Math.cos(mid)*(r+15),vy+Math.sin(mid)*(r+15),{color,font:'11px "JetBrains Mono",monospace'});
}
function tickMark(ctx,x1,y1,x2,y2,n=1,color='#707090') {
  const mx=(x1+x2)/2,my=(y1+y2)/2,dx=x2-x1,dy=y2-y1,len=Math.sqrt(dx*dx+dy*dy);
  const px=-dy/len*6,py=dx/len*6;
  ctx.save(); ctx.strokeStyle=color; ctx.lineWidth=1.5;
  for(let i=0;i<n;i++){
    const off=(i-(n-1)/2)*5;
    const nx=mx+(dx/len)*off,ny=my+(dy/len)*off;
    ctx.beginPath(); ctx.moveTo(nx-px,ny-py); ctx.lineTo(nx+px,ny+py); ctx.stroke();
  }
  ctx.restore();
}
function onCircle(cx,cy,r,deg){
  return [cx+r*Math.cos(deg*Math.PI/180), cy+r*Math.sin(deg*Math.PI/180)];
}
function circle(ctx,cx,cy,r,fill,stroke,lw=1.8){
  ctx.beginPath(); ctx.arc(cx,cy,r,0,Math.PI*2);
  if(fill){ctx.fillStyle=fill;ctx.fill();}
  ctx.strokeStyle=stroke; ctx.lineWidth=lw; ctx.stroke();
}

// ── Q1: Right triangle 9,12,15 ───────────────────────────────────────────────
(()=>{
  const c=document.getElementById('q1'),ctx=c.getContext('2d');
  const A=[60,170],B=[230,170],T=[60,40];
  polyFill(ctx,[A,B,T],FILL_COLORS.ch5,STROKE_COLORS.ch5);
  raMarker(ctx,A[0],A[1],T[0],T[1],B[0],B[1]);
  lbl(ctx,'9 cm',A[0]-16,(A[1]+T[1])/2,{align:'right'});
  lbl(ctx,'12 cm',(A[0]+B[0])/2,A[1]+18);
  lbl(ctx,'c = ?',(B[0]+T[0])/2+16,(B[1]+T[1])/2,{align:'left',color:STROKE_COLORS.ch5});
})();

// ── Q2: Right triangle hyp 13, leg 5 ─────────────────────────────────────────
(()=>{
  const c=document.getElementById('q2'),ctx=c.getContext('2d');
  const A=[60,170],B=[220,170],T=[220,40];
  polyFill(ctx,[A,B,T],FILL_COLORS.ch5,STROKE_COLORS.ch5);
  raMarker(ctx,B[0],B[1],A[0],A[1],T[0],T[1]);
  lbl(ctx,'5 cm',(B[0]+T[0])/2+14,(B[1]+T[1])/2,{align:'left'});
  lbl(ctx,'a = ?',(A[0]+B[0])/2,A[1]+18,{color:STROKE_COLORS.ch5});
  lbl(ctx,'13 cm',(A[0]+T[0])/2-14,(A[1]+T[1])/2,{align:'right'});
})();

// ── Q3: Rectangle diagonal √74, side 5 ───────────────────────────────────────
(()=>{
  const c=document.getElementById('q3'),ctx=c.getContext('2d');
  const BL=[50,175],BR=[260,175],TR=[260,70],TL=[50,70];
  polyFill(ctx,[BL,BR,TR,TL],FILL_COLORS.ch5,STROKE_COLORS.ch5);
  raMarker(ctx,BL[0],BL[1],TL[0],TL[1],BR[0],BR[1]);
  raMarker(ctx,BR[0],BR[1],BL[0],BL[1],TR[0],TR[1]);
  raMarker(ctx,TR[0],TR[1],BR[0],BR[1],TL[0],TL[1]);
  raMarker(ctx,TL[0],TL[1],TR[0],TR[1],BL[0],BL[1]);
  seg(ctx,BL[0],BL[1],TR[0],TR[1],STROKE_COLORS.ch5,1.4,[5,3]);
  lbl(ctx,'5 cm',BL[0]-16,(BL[1]+TL[1])/2,{align:'right'});
  lbl(ctx,'b = ?',(BL[0]+BR[0])/2,BL[1]+18,{color:STROKE_COLORS.ch5});
  lbl(ctx,'√74 cm',(BL[0]+TR[0])/2+14,(BL[1]+TR[1])/2-10,{color:STROKE_COLORS.ch5,align:'left'});
})();

// ── Q4: Sector r=8, θ=135° ────────────────────────────────────────────────────
(()=>{
  const c=document.getElementById('q4'),ctx=c.getContext('2d');
  const cx=70,cy=210,r=150;
  // Only draw 135° sector
  const startA=0, endA=-135*Math.PI/180; // 135° from East going counter-clockwise = up-right region
  ctx.beginPath();
  ctx.moveTo(cx,cy);
  ctx.arc(cx,cy,r,0,-135*Math.PI/180,true);
  ctx.closePath();
  ctx.fillStyle=FILL_COLORS.ch8; ctx.fill();
  ctx.strokeStyle=STROKE_COLORS.ch8; ctx.lineWidth=1.8; ctx.stroke();
  // radius labels
  lbl(ctx,'8 cm',cx+r/2+8,cy-10,{color:STROKE_COLORS.ch8});
  lbl(ctx,'8 cm',cx+14,cy-r/2-10,{align:'left',color:STROKE_COLORS.ch8});
  // angle arc
  ctx.save(); ctx.strokeStyle=STROKE_COLORS.ch8; ctx.lineWidth=1.2;
  ctx.beginPath(); ctx.arc(cx,cy,28,0,-135*Math.PI/180,true); ctx.stroke(); ctx.restore();
  lbl(ctx,'135°',cx+46,cy-32,{color:STROKE_COLORS.ch8,font:'11px "JetBrains Mono",monospace'});
})();

// ── Q5: Cylinder r=4, h=10 ───────────────────────────────────────────────────
(()=>{
  const c=document.getElementById('q5'),ctx=c.getContext('2d');
  const cx=120,topY=40,botY=195,rx=72,ry=18;
  // bottom ellipse
  ctx.beginPath();ctx.ellipse(cx,botY,rx,ry,0,0,Math.PI*2);
  ctx.fillStyle=FILL_COLORS.ch8;ctx.fill();ctx.strokeStyle=STROKE_COLORS.ch8;ctx.lineWidth=1.8;ctx.stroke();
  // body
  ctx.beginPath();ctx.moveTo(cx-rx,topY);ctx.lineTo(cx-rx,botY);
  ctx.moveTo(cx+rx,topY);ctx.lineTo(cx+rx,botY);ctx.strokeStyle=STROKE_COLORS.ch8;ctx.lineWidth=1.8;ctx.stroke();
  ctx.fillStyle=FILL_COLORS.ch8;
  ctx.fillRect(cx-rx,topY,rx*2,botY-topY);
  ctx.beginPath();ctx.moveTo(cx-rx,topY);ctx.lineTo(cx-rx,botY);ctx.lineTo(cx+rx,botY);ctx.lineTo(cx+rx,topY);ctx.stroke();
  // top ellipse
  ctx.beginPath();ctx.ellipse(cx,topY,rx,ry,0,0,Math.PI*2);
  ctx.fillStyle=FILL_COLORS.ch8;ctx.fill();ctx.strokeStyle=STROKE_COLORS.ch8;ctx.lineWidth=1.8;ctx.stroke();
  // labels
  seg(ctx,cx+rx+5,topY,cx+rx+5,botY,'#556',1,[3,2]);
  seg(ctx,cx+rx,topY,cx+rx+10,topY,'#556',1);
  seg(ctx,cx+rx,botY,cx+rx+10,botY,'#556',1);
  lbl(ctx,'h = 10 cm',cx+rx+28,(topY+botY)/2,{align:'left'});
  lbl(ctx,'r = 4 cm',cx,botY+30);
})();

// ── Q6: Cone r=6, l=10, h=8 ──────────────────────────────────────────────────
(()=>{
  const c=document.getElementById('q6'),ctx=c.getContext('2d');
  const cx=120,tipY=30,botY=205,rx=80,ry=16;
  ctx.beginPath();ctx.ellipse(cx,botY,rx,ry,0,0,Math.PI*2);
  ctx.fillStyle=FILL_COLORS.ch8;ctx.fill();ctx.strokeStyle=STROKE_COLORS.ch8;ctx.lineWidth=1.8;ctx.stroke();
  ctx.beginPath();ctx.moveTo(cx,tipY);ctx.lineTo(cx-rx,botY);ctx.lineTo(cx+rx,botY);ctx.closePath();
  ctx.fillStyle=FILL_COLORS.ch8;ctx.fill();ctx.strokeStyle=STROKE_COLORS.ch8;ctx.lineWidth=1.8;ctx.stroke();
  seg(ctx,cx,tipY,cx,botY,STROKE_COLORS.ch8,1.2,[4,3]);
  lbl(ctx,'r = 6 cm',cx+rx/2+10,botY+24);
  lbl(ctx,'l = 10 cm',cx+rx/2+14,(tipY+botY)/2,{align:'left',color:STROKE_COLORS.ch8});
  lbl(ctx,'h = 8 cm',cx+12,(tipY+botY)/2,{align:'left',color:'#556'});
})();

// ── Q7: Two congruent triangles SAS ──────────────────────────────────────────
(()=>{
  const c=document.getElementById('q7'),ctx=c.getContext('2d');
  // Left triangle
  const A=[30,165],B=[165,165],T=[60,40];
  polyFill(ctx,[A,B,T],FILL_COLORS.ch13,STROKE_COLORS.ch13);
  arcAngle(ctx,A[0],A[1],B[0],B[1],T[0],T[1],26,'54°',STROKE_COLORS.ch13);
  tickMark(ctx,A[0],A[1],T[0],T[1],1,STROKE_COLORS.ch13);
  tickMark(ctx,A[0],A[1],B[0],B[1],2,STROKE_COLORS.ch13);
  lbl(ctx,'9 cm',A[0]-14,(A[1]+T[1])/2,{align:'right'});
  lbl(ctx,'7 cm',(A[0]+B[0])/2,A[1]+18);
  // Right triangle
  const A2=[215,165],B2=[355,165],T2=[315,40];
  polyFill(ctx,[A2,B2,T2],FILL_COLORS.ch13,STROKE_COLORS.ch13);
  arcAngle(ctx,A2[0],A2[1],B2[0],B2[1],T2[0],T2[1],26,'54°',STROKE_COLORS.ch13);
  tickMark(ctx,A2[0],A2[1],T2[0],T2[1],1,STROKE_COLORS.ch13);
  tickMark(ctx,A2[0],A2[1],B2[0],B2[1],2,STROKE_COLORS.ch13);
  lbl(ctx,'9 cm',A2[0]-14,(A2[1]+T2[1])/2,{align:'right'});
  lbl(ctx,'7 cm',(A2[0]+B2[0])/2,A2[1]+18);
})();

// ── Q8: DE∥BC similar triangles AD=4,DB=6,DE=5 ───────────────────────────────
(()=>{
  const c=document.getElementById('q8'),ctx=c.getContext('2d');
  const A=[150,25], B=[30,240], CC=[265,240];
  polyFill(ctx,[A,B,CC],FILL_COLORS.ch13,STROKE_COLORS.ch13,1.5);
  // D and E on AB and AC
  const t=0.4;
  const D=[A[0]+t*(B[0]-A[0]),A[1]+t*(B[1]-A[1])];
  const E=[A[0]+t*(CC[0]-A[0]),A[1]+t*(CC[1]-A[1])];
  polyFill(ctx,[A,D,E],'#1e2210','#a8a030',1.5);
  seg(ctx,D[0],D[1],E[0],E[1],STROKE_COLORS.ch13,1.8);
  dot(ctx,D[0],D[1],3,STROKE_COLORS.ch13);
  dot(ctx,E[0],E[1],3,STROKE_COLORS.ch13);
  lbl(ctx,'A',A[0],A[1]-14,{color:TEXT_COLOR});
  lbl(ctx,'B',B[0]-14,B[1]+10,{color:TEXT_COLOR});
  lbl(ctx,'C',CC[0]+12,CC[1]+10,{color:TEXT_COLOR});
  lbl(ctx,'D',D[0]-16,D[1],{color:STROKE_COLORS.ch13});
  lbl(ctx,'E',E[0]+14,E[1],{color:STROKE_COLORS.ch13});
  lbl(ctx,'4 cm',(A[0]+D[0])/2-12,(A[1]+D[1])/2,{align:'right',color:STROKE_COLORS.ch13,font:'11px "JetBrains Mono",monospace'});
  lbl(ctx,'6 cm',(D[0]+B[0])/2-12,(D[1]+B[1])/2,{align:'right',font:'11px "JetBrains Mono",monospace'});
  lbl(ctx,'5 cm',(D[0]+E[0])/2,(D[1]+E[1])/2-14,{color:STROKE_COLORS.ch13,font:'11px "JetBrains Mono",monospace'});
  lbl(ctx,'BC = ?',(B[0]+CC[0])/2,(B[1])+18,{color:STROKE_COLORS.ch13,font:'11px "JetBrains Mono",monospace'});
})();

// ── Q10: Central angle 124° ───────────────────────────────────────────────────
(()=>{
  const c=document.getElementById('q10'),ctx=c.getContext('2d');
  const cx=140,cy=140,r=115;
  circle(ctx,cx,cy,r,FILL_COLORS.ch14,STROKE_COLORS.ch14);
  dot(ctx,cx,cy,4,STROKE_COLORS.ch14);
  const A=onCircle(cx,cy,r,-152), B=onCircle(cx,cy,r,-28);
  const CC=onCircle(cx,cy,r,100); // on major arc
  seg(ctx,cx,cy,A[0],A[1],STROKE_COLORS.ch14,1.5);
  seg(ctx,cx,cy,B[0],B[1],STROKE_COLORS.ch14,1.5);
  seg(ctx,CC[0],CC[1],A[0],A[1],STROKE_COLORS.ch14,1.4);
  seg(ctx,CC[0],CC[1],B[0],B[1],STROKE_COLORS.ch14,1.4);
  dot(ctx,A[0],A[1]); dot(ctx,B[0],B[1]); dot(ctx,CC[0],CC[1]);
  const a1=Math.atan2(A[1]-cy,A[0]-cx),a2=Math.atan2(B[1]-cy,B[0]-cx);
  ctx.save();ctx.strokeStyle=STROKE_COLORS.ch14;ctx.lineWidth=1.3;
  ctx.beginPath();ctx.arc(cx,cy,26,a1,a2);ctx.stroke();ctx.restore();
  lbl(ctx,'124°',cx+2,cy+12,{color:STROKE_COLORS.ch14,font:'11px "JetBrains Mono",monospace'});
  const pa1=Math.atan2(A[1]-CC[1],A[0]-CC[0]),pa2=Math.atan2(B[1]-CC[1],B[0]-CC[0]);
  ctx.save();ctx.strokeStyle='#60b060';ctx.lineWidth=1.2;
  ctx.beginPath();ctx.arc(CC[0],CC[1],20,pa1,pa2);ctx.stroke();ctx.restore();
  lbl(ctx,'C',CC[0]-14,CC[1],{color:'#60b060'});
  lbl(ctx,'A',A[0]-14,A[1]); lbl(ctx,'B',B[0]+10,B[1]);
  lbl(ctx,'O',cx+12,cy-12,{color:STROKE_COLORS.ch14});
})();

// ── Q11: Cyclic quad 3x° and (x+40)° ─────────────────────────────────────────
(()=>{
  const c=document.getElementById('q11'),ctx=c.getContext('2d');
  const cx=140,cy=140,r=115;
  circle(ctx,cx,cy,r,FILL_COLORS.ch14,STROKE_COLORS.ch14);
  const A=onCircle(cx,cy,r,160),B=onCircle(cx,cy,r,40),CC=onCircle(cx,cy,r,-50),D=onCircle(cx,cy,r,-140);
  polyFill(ctx,[A,B,CC,D],'#101e10',STROKE_COLORS.ch14,1.5);
  dot(ctx,A[0],A[1]);dot(ctx,B[0],B[1]);dot(ctx,CC[0],CC[1]);dot(ctx,D[0],D[1]);
  lbl(ctx,'A',A[0]-14,A[1],{color:TEXT_COLOR});
  lbl(ctx,'B',B[0]+10,B[1]-8,{color:TEXT_COLOR});
  lbl(ctx,'C',CC[0]+12,CC[1]+8,{color:TEXT_COLOR});
  lbl(ctx,'D',D[0]-14,D[1]+10,{color:TEXT_COLOR});
  lbl(ctx,'3x°',A[0]+22,A[1]+10,{color:STROKE_COLORS.ch14,font:'11px "JetBrains Mono",monospace'});
  lbl(ctx,'(x+40)°',CC[0]-44,CC[1]-14,{color:STROKE_COLORS.ch14,font:'11px "JetBrains Mono",monospace'});
})();

// ── Q12: External tangents OP=25, r=7 ────────────────────────────────────────
(()=>{
  const c=document.getElementById('q12'),ctx=c.getContext('2d');
  const cx=95,cy=130,r=80;
  circle(ctx,cx,cy,r,FILL_COLORS.ch14,STROKE_COLORS.ch14);
  dot(ctx,cx,cy,4,STROKE_COLORS.ch14);
  const T=onCircle(cx,cy,r,-50), S=onCircle(cx,cy,r,50);
  const P=[cx+r+105,cy];
  seg(ctx,T[0],T[1],P[0],P[1],STROKE_COLORS.ch14,1.8);
  seg(ctx,S[0],S[1],P[0],P[1],STROKE_COLORS.ch14,1.8);
  seg(ctx,cx,cy,T[0],T[1],'#446',1.4,[3,2]);
  seg(ctx,cx,cy,S[0],S[1],'#446',1.4,[3,2]);
  raMarker(ctx,T[0],T[1],cx,cy,P[0],P[1],9);
  raMarker(ctx,S[0],S[1],cx,cy,P[0],P[1],9);
  dot(ctx,T[0],T[1]); dot(ctx,S[0],S[1]);
  lbl(ctx,'O',cx-14,cy,{color:STROKE_COLORS.ch14});
  lbl(ctx,'T',T[0]-14,T[1]-10,{color:TEXT_COLOR});
  lbl(ctx,'S',S[0]-14,S[1]+14,{color:TEXT_COLOR});
  lbl(ctx,'P',P[0]+12,P[1],{color:TEXT_COLOR});
  lbl(ctx,'7 cm',(cx+T[0])/2-8,(cy+T[1])/2-8,{color:'#446',font:'10px "JetBrains Mono",monospace'});
  lbl(ctx,'25 cm',(cx+P[0])/2,cy-14,{font:'10px "JetBrains Mono",monospace'});
  lbl(ctx,'PT = ?',(T[0]+P[0])/2,(T[1]+P[1])/2-16,{color:STROKE_COLORS.ch14,font:'10px "JetBrains Mono",monospace'});
})();

// ── Q13: Right triangle hyp=15, angle 38° ────────────────────────────────────
(()=>{
  const c=document.getElementById('q13'),ctx=c.getContext('2d');
  const A=[55,170],B=[235,170],T=[235,55];
  polyFill(ctx,[A,B,T],FILL_COLORS.ch15,STROKE_COLORS.ch15);
  raMarker(ctx,B[0],B[1],A[0],A[1],T[0],T[1]);
  arcAngle(ctx,A[0],A[1],B[0],B[1],T[0],T[1],28,'38°',STROKE_COLORS.ch15);
  lbl(ctx,'15 cm',(A[0]+T[0])/2-14,(A[1]+T[1])/2,{align:'right',color:STROKE_COLORS.ch15});
  lbl(ctx,'b = ?',(A[0]+B[0])/2,A[1]+18,{color:STROKE_COLORS.ch15});
  lbl(ctx,'a = ?',B[0]+14,(B[1]+T[1])/2,{align:'left',color:STROKE_COLORS.ch15});
})();

// ── Q14: Tower elevation 32°, 50m base ───────────────────────────────────────
(()=>{
  const c=document.getElementById('q14'),ctx=c.getContext('2d');
  const ground=[40,175], base=[310,175], top=[310,50];
  polyFill(ctx,[ground,base,top],FILL_COLORS.ch15,STROKE_COLORS.ch15,1.5);
  raMarker(ctx,base[0],base[1],ground[0],ground[1],top[0],top[1]);
  seg(ctx,ground[0]-10,ground[1],base[0]+10,ground[1],'#334',1.2);
  arcAngle(ctx,ground[0],ground[1],base[0],base[1],top[0],top[1],32,'32°',STROKE_COLORS.ch15);
  lbl(ctx,'50 m',(ground[0]+base[0])/2,ground[1]+18);
  lbl(ctx,'height = ?',base[0]+16,(base[1]+top[1])/2,{align:'left',color:STROKE_COLORS.ch15});
})();

// ── Q15: Ship bearing diagram ─────────────────────────────────────────────────
(()=>{
  const c=document.getElementById('q15'),ctx=c.getContext('2d');
  const O=[70,225], East=[230,225], North=[230,65];
  // Axes
  seg(ctx,O[0],O[1],O[0]+20,O[1],'#334',1,[3,2]);
  seg(ctx,O[0],O[1],O[0],O[1]-30,'#334',1,[3,2]);
  // path
  polyFill(ctx,[O,East,North],FILL_COLORS.ch15,STROKE_COLORS.ch15,1.5);
  raMarker(ctx,East[0],East[1],O[0],O[1],North[0],North[1]);
  // direct line
  seg(ctx,O[0],O[1],North[0],North[1],STROKE_COLORS.ch15,1.8,[5,3]);
  lbl(ctx,'40 km',(O[0]+East[0])/2,O[1]+18);
  lbl(ctx,'30 km',East[0]+14,(East[1]+North[1])/2,{align:'left'});
  lbl(ctx,'d = ?',(O[0]+North[0])/2-18,(O[1]+North[1])/2,{align:'right',color:STROKE_COLORS.ch15});
  lbl(ctx,'Start',O[0]-4,O[1]+20,{font:'10px "JetBrains Mono",monospace',color:'#667'});
  lbl(ctx,'N',O[0],O[1]-34,{font:'bold 11px "JetBrains Mono",monospace',color:'#60b8d4'});
  lbl(ctx,'E',O[0]+24,O[1]+1,{font:'bold 11px "JetBrains Mono",monospace',color:'#60b8d4'});
})();

// ── Q16: Area triangle 9cm, 14cm, 72° ────────────────────────────────────────
(()=>{
  const c=document.getElementById('q16'),ctx=c.getContext('2d');
  const V=[60,160],A=[240,160],B=[110,40];
  polyFill(ctx,[V,A,B],FILL_COLORS.ch16,STROKE_COLORS.ch16);
  arcAngle(ctx,V[0],V[1],A[0],V[1],B[0],B[1],26,'72°',STROKE_COLORS.ch16);
  lbl(ctx,'9 cm',(V[0]+B[0])/2-14,(V[1]+B[1])/2,{align:'right'});
  lbl(ctx,'14 cm',(V[0]+A[0])/2,V[1]+18);
})();

// ── Q17: Sine rule PQR, P=48°, Q=67°, PQ=18 ─────────────────────────────────
(()=>{
  const c=document.getElementById('q17'),ctx=c.getContext('2d');
  const P=[35,175],Q=[235,175],R=[165,35];
  polyFill(ctx,[P,Q,R],FILL_COLORS.ch16,STROKE_COLORS.ch16);
  arcAngle(ctx,P[0],P[1],Q[0],P[1],R[0],R[1],26,'48°',STROKE_COLORS.ch16);
  arcAngle(ctx,Q[0],Q[1],R[0],R[1],P[0],P[1],26,'67°',STROKE_COLORS.ch16);
  lbl(ctx,'18 cm',(P[0]+Q[0])/2,P[1]+18);
  lbl(ctx,'PR = ?',(P[0]+R[0])/2-14,(P[1]+R[1])/2,{align:'right',color:STROKE_COLORS.ch16});
  lbl(ctx,'P',P[0]-12,P[1]+8); lbl(ctx,'Q',Q[0]+10,Q[1]+8); lbl(ctx,'R',R[0],R[1]-14);
})();

// ── Q18: Cosine rule 8, 11, 14 ────────────────────────────────────────────────
(()=>{
  const c=document.getElementById('q18'),ctx=c.getContext('2d');
  const A=[35,175],B=[275,175],C=[145,35];
  polyFill(ctx,[A,B,C],FILL_COLORS.ch16,STROKE_COLORS.ch16);
  lbl(ctx,'8 cm',(A[0]+C[0])/2-14,(A[1]+C[1])/2,{align:'right'});
  lbl(ctx,'11 cm',(B[0]+C[0])/2+14,(B[1]+C[1])/2,{align:'left'});
  lbl(ctx,'14 cm',(A[0]+B[0])/2,A[1]+18);
  arcAngle(ctx,A[0],A[1],B[0],A[1],C[0],C[1],28,'?',STROKE_COLORS.ch16);
  arcAngle(ctx,B[0],B[1],C[0],C[1],A[0],A[1],28,'?',STROKE_COLORS.ch16);
  arcAngle(ctx,C[0],C[1],A[0],A[1],B[0],B[1],28,'C',STROKE_COLORS.ch16);
})();

// ── Q19: Two ships 35km/52km, bearings 040/160 ───────────────────────────────
(()=>{
  const c=document.getElementById('q19'),ctx=c.getContext('2d');
  const O=[150,220];
  // bearing 040: 40° clockwise from North
  const angA=(40-90)*Math.PI/180;
  const A=[O[0]+Math.cos(angA)*110, O[1]+Math.sin(angA)*110];
  // bearing 160: 160° clockwise from North
  const angB=(160-90)*Math.PI/180;
  const B=[O[0]+Math.cos(angB)*120, O[1]+Math.sin(angB)*120];
  polyFill(ctx,[O,A,B],FILL_COLORS.ch16,STROKE_COLORS.ch16,1.5);
  seg(ctx,A[0],A[1],B[0],B[1],STROKE_COLORS.ch16,1.8,[5,3]);
  // North arrow at O
  seg(ctx,O[0],O[1],O[0],O[1]-40,'#60b8d4',1.5);
  lbl(ctx,'N',O[0],O[1]-50,{font:'bold 10px "JetBrains Mono",monospace',color:'#60b8d4'});
  dot(ctx,O[0],O[1],4,STROKE_COLORS.ch16);
  dot(ctx,A[0],A[1],3,TEXT_COLOR); dot(ctx,B[0],B[1],3,TEXT_COLOR);
  lbl(ctx,'35 km',(O[0]+A[0])/2+16,(O[1]+A[1])/2,{align:'left',font:'10px "JetBrains Mono",monospace'});
  lbl(ctx,'52 km',(O[0]+B[0])/2-16,(O[1]+B[1])/2,{align:'right',font:'10px "JetBrains Mono",monospace'});
  lbl(ctx,'d = ?',(A[0]+B[0])/2+16,(A[1]+B[1])/2,{align:'left',color:STROKE_COLORS.ch16,font:'10px "JetBrains Mono",monospace'});
  lbl(ctx,'040°',O[0]+30,O[1]-28,{font:'10px "JetBrains Mono",monospace',color:'#60b8d4'});
  lbl(ctx,'160°',O[0]+22,O[1]+18,{font:'10px "JetBrains Mono",monospace',color:'#60b8d4'});
})();

// ── Q20: Triangle 120, 180, 210 ───────────────────────────────────────────────
(()=>{
  const c=document.getElementById('q20'),ctx=c.getContext('2d');
  // Scale to fit: longest side 210 → ~280px
  const scale=1.15;
  const A=[30,190],B=[271,190],C=[225,55];
  polyFill(ctx,[A,B,C],FILL_COLORS.ch16,STROKE_COLORS.ch16);
  lbl(ctx,'120 m',(A[0]+C[0])/2-14,(A[1]+C[1])/2,{align:'right',font:'11px "JetBrains Mono",monospace'});
  lbl(ctx,'180 m',(B[0]+C[0])/2+14,(B[1]+C[1])/2,{align:'left',font:'11px "JetBrains Mono",monospace'});
  lbl(ctx,'210 m',(A[0]+B[0])/2,A[1]+18,{font:'11px "JetBrains Mono",monospace'});
  arcAngle(ctx,C[0],C[1],A[0],A[1],B[0],B[1],30,'C ≈ ?',STROKE_COLORS.ch16);
})();
</script>
</body>
</html>
